(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{2:function(e,t,c){"use strict";c.r(t);var n=c(3),r=c(4);function l(e){let t;function c(e,t){return e[0].isFlagged?s:e[0].isBomb?i:e[0].isNearbyBomb?b:void 0}let r=c(e),l=r&&r(e);return{c(){t=Object(n.j)("td"),l&&l.c(),Object(n.c)(t,"class","svelte-1gg4qm0")},m(e,c){Object(n.n)(e,t,c),l&&l.m(t,null)},p(e,n){r===(r=c(e))&&l?l.p(e,n):(l&&l.d(1),l=r&&r(e),l&&(l.c(),l.m(t,null)))},d(e){e&&Object(n.i)(t),l&&l.d()}}}function o(e){let t,c;return{c(){t=Object(n.j)("td"),t.textContent="ðŸ¤”",Object(n.c)(t,"class","svelte-1gg4qm0"),c=[Object(n.o)(t,"mouseup",e[2]),Object(n.o)(t,"mousedown",e[6]),Object(n.o)(t,"contextmenu",e[3])]},m(e,c){Object(n.n)(e,t,c)},p:n.q,d(e){e&&Object(n.i)(t),Object(n.r)(c)}}}function b(e){let t,c,r,l=e[0].numberOfBombsNearby+"";return{c(){t=Object(n.j)("span"),c=Object(n.v)(l),Object(n.c)(t,"class",r="color"+e[0].numberOfBombsNearby+" svelte-1gg4qm0")},m(e,r){Object(n.n)(e,t,r),Object(n.b)(t,c)},p(e,o){1&o&&l!==(l=e[0].numberOfBombsNearby+"")&&Object(n.t)(c,l),1&o&&r!==(r="color"+e[0].numberOfBombsNearby+" svelte-1gg4qm0")&&Object(n.c)(t,"class",r)},d(e){e&&Object(n.i)(t)}}}function i(e){let t;return{c(){t=Object(n.v)("ðŸ’£")},m(e,c){Object(n.n)(e,t,c)},p:n.q,d(e){e&&Object(n.i)(t)}}}function s(e){let t;return{c(){t=Object(n.v)("ðŸš©")},m(e,c){Object(n.n)(e,t,c)},p:n.q,d(e){e&&Object(n.i)(t)}}}function j(e){let t;function c(e,t){return e[0].isOpen||e[0].isFlagged?l:o}let r=c(e),b=r(e);return{c(){b.c(),t=Object(n.k)()},m(e,c){b.m(e,c),Object(n.n)(e,t,c)},p(e,[n]){r===(r=c(e))&&b?b.p(e,n):(b.d(1),b=r(e),b&&(b.c(),b.m(t.parentNode,t)))},i:n.q,o:n.q,d(e){b.d(e),e&&Object(n.i)(t)}}}function O(e,t,c){const n=Object(r.a)();let{current:l}=t,{ri:o}=t,{si:b}=t;return e.$set=e=>{"current"in e&&c(0,l=e.current),"ri"in e&&c(4,o=e.ri),"si"in e&&c(5,b=e.si)},[l,n,()=>{l.isFlagged||(c(0,l.isOpen=!0,l),n("slotClicked",{...l,ri:o,si:b}))},e=>{e.preventDefault(),c(0,l.isFlagged=!l.isFlagged,l),n("slotRightClicked",{...l,ri:o,si:b})},o,b,()=>n("slotDown")]}class u extends n.a{constructor(e){var t;super(),document.getElementById("svelte-1gg4qm0-style")||((t=Object(n.j)("style")).id="svelte-1gg4qm0-style",t.textContent="td.svelte-1gg4qm0{font-size:2em}td.svelte-1gg4qm0:hover,td.svelte-1gg4qm0:focus{cursor:pointer}.color1.svelte-1gg4qm0{color:blue}.color2.svelte-1gg4qm0{color:green}.color3.svelte-1gg4qm0{color:red}.color4.svelte-1gg4qm0{color:purple}.color5.svelte-1gg4qm0{color:burlywood}",Object(n.b)(document.head,t)),Object(n.m)(this,e,O,j,n.s,{current:0,ri:4,si:5})}}var m=u,d=15,g={width:8,height:10};const a=(e,t,c)=>e.some(e=>e.width===t&&e.height===c),f=()=>{const e={isFlagged:!1,isBomb:!1,isOpen:!1,isNearbyBomb:!1,numberOfBombsNearby:0},t=[...Array(d).keys()].reduce(e=>{for(;e.length<d;){const t=Math.floor(Math.random()*g.width),c=Math.floor(Math.random()*g.height);if(!a(e,t,c))return[...e,{width:t,height:c}]}},[]),c=t.reduce((e,t)=>{for(let n=-1;n<=1;n++)for(let r=-1;r<=1;r++)0===n&&0===r||t.width+n<0||t.height+r<0||t.width+n>=g.width||t.height+r>=g.height||(e[`${t.width+n},${t.height+r}`]=void 0!==(c=e[`${t.width+n},${t.height+r}`])?c+1:1);var c;return e},[]);return new Array(g.height).fill(null).map(()=>new Array(g.width).fill(e)).map((e,n)=>e.map((e,r)=>{const l={...e};return void 0!==c[`${r},${n}`]&&(l.numberOfBombsNearby=c[`${r},${n}`],l.isNearbyBomb=!0),a(t,r,n)?{...l,isBomb:!0}:l}))},h=(e,t,c,n)=>{if(t<0||t>g.width+1)return;if(c<0||c>g.height+1)return;const r=e[t][c];void 0!==r&&(r.isNearbyBomb||r.isOpen||r.isBomb||(r.isOpen=!0,n.push({ri:t,si:c})),r.isNearbyBomb&&(r.isOpen=!0))};function v(e,t,c){const n=e.slice();return n[11]=t[c],n[13]=c,n}function p(e,t,c){const n=e.slice();return n[8]=t[c],n[10]=c,n}function w(e){let t;return{c(){t=Object(n.v)("ðŸ˜Š")},m(e,c){Object(n.n)(e,t,c)},d(e){e&&Object(n.i)(t)}}}function y(e){let t;return{c(){t=Object(n.v)("ðŸ˜®")},m(e,c){Object(n.n)(e,t,c)},d(e){e&&Object(n.i)(t)}}}function B(e){let t;return{c(){t=Object(n.v)("ðŸ˜µ")},m(e,c){Object(n.n)(e,t,c)},d(e){e&&Object(n.i)(t)}}}function $(e){let t;const c=new m({props:{current:e[11],ri:e[10],si:e[13]}});return c.$on("slotClicked",e[4]),c.$on("slotRightClicked",e[5]),c.$on("slotDown",e[6]),{c(){Object(n.f)(c.$$.fragment)},m(e,r){Object(n.p)(c,e,r),t=!0},p(e,t){const n={};1&t&&(n.current=e[11]),c.$set(n)},i(e){t||(Object(n.w)(c.$$.fragment,e),t=!0)},o(e){Object(n.x)(c.$$.fragment,e),t=!1},d(e){Object(n.g)(c,e)}}}function q(e){let t,c,r,l=e[8],o=[];for(let t=0;t<l.length;t+=1)o[t]=$(v(e,l,t));const b=e=>Object(n.x)(o[e],1,1,()=>{o[e]=null});return{c(){t=Object(n.j)("tr");for(let e=0;e<o.length;e+=1)o[e].c();c=Object(n.u)()},m(e,l){Object(n.n)(e,t,l);for(let e=0;e<o.length;e+=1)o[e].m(t,null);Object(n.b)(t,c),r=!0},p(e,r){if(113&r){let i;for(l=e[8],i=0;i<l.length;i+=1){const b=v(e,l,i);o[i]?(o[i].p(b,r),Object(n.w)(o[i],1)):(o[i]=$(b),o[i].c(),Object(n.w)(o[i],1),o[i].m(t,c))}for(Object(n.l)(),i=l.length;i<o.length;i+=1)b(i);Object(n.d)()}},i(e){if(!r){for(let e=0;e<l.length;e+=1)Object(n.w)(o[e]);r=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Object(n.x)(o[e]);r=!1},d(e){e&&Object(n.i)(t),Object(n.h)(o,e)}}}function x(e){let t,c,r,l,o,b,i,s,j,O,u,m,g,a,f,h,v,$=d+"";function x(e,t){return e[1]?B:e[2]?y:w}let N=x(e),k=N(e),C=e[0],F=[];for(let t=0;t<C.length;t+=1)F[t]=q(p(e,C,t));const M=e=>Object(n.x)(F[e],1,1,()=>{F[e]=null});return{c(){t=Object(n.j)("div"),c=Object(n.j)("h1"),c.textContent="Sveltesweeper / Minesvelter",r=Object(n.u)(),l=Object(n.j)("div"),k.c(),o=Object(n.u)(),b=Object(n.j)("div"),i=Object(n.v)(e[3]),s=Object(n.v)("/"),j=Object(n.v)($),O=Object(n.v)(" ðŸš©"),u=Object(n.u)(),m=Object(n.j)("table"),g=Object(n.j)("tbody");for(let e=0;e<F.length;e+=1)F[e].c();a=Object(n.u)(),f=Object(n.j)("button"),f.textContent="Reset game",Object(n.c)(l,"class","emo svelte-1ucinj1"),Object(n.c)(m,"class","middle svelte-1ucinj1"),Object(n.c)(t,"class","middle svelte-1ucinj1"),v=Object(n.o)(f,"click",e[7])},m(e,d){Object(n.n)(e,t,d),Object(n.b)(t,c),Object(n.b)(t,r),Object(n.b)(t,l),k.m(l,null),Object(n.b)(t,o),Object(n.b)(t,b),Object(n.b)(b,i),Object(n.b)(b,s),Object(n.b)(b,j),Object(n.b)(b,O),Object(n.b)(t,u),Object(n.b)(t,m),Object(n.b)(m,g);for(let e=0;e<F.length;e+=1)F[e].m(g,null);Object(n.b)(t,a),Object(n.b)(t,f),h=!0},p(e,[t]){if(N!==(N=x(e))&&(k.d(1),k=N(e),k&&(k.c(),k.m(l,null))),(!h||8&t)&&Object(n.t)(i,e[3]),113&t){let c;for(C=e[0],c=0;c<C.length;c+=1){const r=p(e,C,c);F[c]?(F[c].p(r,t),Object(n.w)(F[c],1)):(F[c]=q(r),F[c].c(),Object(n.w)(F[c],1),F[c].m(g,null))}for(Object(n.l)(),c=C.length;c<F.length;c+=1)M(c);Object(n.d)()}},i(e){if(!h){for(let e=0;e<C.length;e+=1)Object(n.w)(F[e]);h=!0}},o(e){F=F.filter(Boolean);for(let e=0;e<F.length;e+=1)Object(n.x)(F[e]);h=!1},d(e){e&&Object(n.i)(t),k.d(),Object(n.h)(F,e),v()}}}function N(e,t,c){let{board:n=f()}=t,{gameOver:r=!1}=t,{suspense:l=!1}=t,{flagsPlaced:o=0}=t;return e.$set=e=>{"board"in e&&c(0,n=e.board),"gameOver"in e&&c(1,r=e.gameOver),"suspense"in e&&c(2,l=e.suspense),"flagsPlaced"in e&&c(3,o=e.flagsPlaced)},[n,r,l,o,e=>{const t=e.detail;c(2,l=!1),!t.isOpen||t.isNearbyBomb||t.isBomb||c(0,n=((e,t,c)=>{let n=[{ri:t,si:c}];for(;n.length;){const{ri:t,si:c}=n[0];h(e,t-1,c,n),h(e,t,c-1,n),h(e,t,c+1,n),h(e,t+1,c,n),n=n.filter(e=>e.ri!==t||e.si!==c)}return e})(n,t.ri,t.si)),t.isBomb&&(c(0,n=(e=>e.map(e=>e.map(e=>(e.isOpen=!0,e))))(n)),c(1,r=!0))},()=>{c(2,l=!1),c(3,o++,o)},()=>{c(2,l=!0)},()=>{c(0,n=f()),c(1,r=!1),c(3,o=0)}]}class k extends n.a{constructor(e){var t;super(),document.getElementById("svelte-1ucinj1-style")||((t=Object(n.j)("style")).id="svelte-1ucinj1-style",t.textContent=".middle.svelte-1ucinj1{text-align:center;margin-left:auto;margin-right:auto}.emo.svelte-1ucinj1{font-size:2em}",Object(n.b)(document.head,t)),Object(n.m)(this,e,N,x,n.s,{board:0,gameOver:1,suspense:2,flagsPlaced:3})}}var C=k,F={init:function(e,t){void 0===t&&(t={}),new C({target:e})}};t.default=F}}]);